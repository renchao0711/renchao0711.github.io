---
layout:     post
title:      "const、static等关键词的作用"
subtitle:   ""
date:       2017-09-11 10:11:00
author:     "Renchao"
header-img: "img/2017.05.07.jpg"
catalog:    true
tags: 
   - 计算机
---

## const、static等关键词的作用

const关键字至少有下列n个作用：

（1）欲阻止一个变量被改变，可以使用const关键字。在定义该const变量时，通常需要对它进行初始化，因为以后就没有机会再去改变它了；
（2）对指针来说，可以指定指针本身为const，也可以指定指针所指的数据为const，或二者同时指定为const；
（3）在一个函数声明中，const可以修饰形参，表明它是一个输入参数，在函数内部不能改变其值；
（4）对于类的成员函数，若指定其为const类型，则表明其是一个常函数，不能修改类的成员变量；
（5）对于类的成员函数，有时候必须指定其返回值为const类型，以使得其返回值不为“左值”。例如：
const classA operator*(const classA& a1,const classA& a2); 
　　operator*的返回结果必须是一个const对象。如果不是，这样的变态代码也不会编译出错：
classA a, b, c;
(a * b) = c; // 对a*b的结果赋值 
　　操作(a * b) = c显然不符合编程者的初衷，也没有任何意义。



面试题：static有什么作用？

答：在C语言中，static主要定义全局静态变量，定义局部静态变量，定义静态函数

 一、       定义全局静态变量 ：在全局变量前面加上关键字static，该全局变量变成了全局静态变量。全局静态变量有以下特点：

（1）       在全局数据区内分配内存

（2）       如果没有初始化，其默认值为0

（3）       该变量在本文件内从定义开始到文件结束可见

 二、       定义局部静态变量：在局部静态变量前面加上关键字static，该局部变量便成了静态局部变量。静态局部变量有以下特点:

（1）       该变量在全局数据区分配内存

（2）       如果不显示初始化，那么将被隐式初始化为0

（3）       它始终驻留在全局数据区，直到程序运行结束

（4）       其作用域为局部作用域，当定义它的函数或语句块结束时，其作用域随之结束。

  三、       定义静态函数：在函数的返回类型加上static关键字，函数即被定义成静态函数。静态函数有以下特点：

（1）       静态函数只能在本源文件中使用

（2）       在文件作用域中声明的inline函数默认为static

​                说明：静态函数只是一个普通的全局函数，只不过受static限制，他只能在文件坐在的编译单位内使用，不能呢个在其他编译单位内使用。

在C++语言中新增了两种作用：定义静态数据成员或静态函数成员

（1）       定义静态数据成员。静态数据成员有如下特点：

（1）       内存分配：在程序的全局数据区分配

（2）       初始化和定义：静态数据成员定义时要分配空间，所以不能在类声明中定义

（3）       静态成员函数。静态成员函数与类相联系，不与类的对象相联系。静态成员函数不能访问非静态数据成员。原因很简单，非静态数据成员属于特定的类实例，主要用于对静态数据成员的操作。

（4）       静态成员函数和静态数据成员都没有this指针。